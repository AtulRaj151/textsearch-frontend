(this["webpackJsonptextsearch-frontend"]=this["webpackJsonptextsearch-frontend"]||[]).push([[0],{19:function(e,t,n){e.exports=n(31)},29:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),c=n.n(s),o=n(9),i=(n(29),n(6)),u=n(17),l=n(18),d=n.n(l),p=n(1),h={questions:[],isVisibleHomePage:!0,isVisibleAddButton:!1};var m={result:[],showSearchResults:!1};var b=Object(i.c)({question:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_QUESTION":return Object(p.a)(Object(p.a)({},e),{},{questions:t.question});case"SHOW_HOME_PAGE":return Object(p.a)(Object(p.a)({},e),{},{isVisibleHomePage:t.isVisibleHomePage,isVisibleAddButton:!1});case"UPDATE_SEARCH_QUESTION":return Object(p.a)(Object(p.a)({},e),{},{isVisibleHomePage:!1,isVisibleAddButton:!1});case"SHOW_ADD_BUTTON":return Object(p.a)(Object(p.a)({},e),{},{isVisibleAddButton:t.isVisibleAddButton,isVisibleHomePage:!1});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_QUESTION":return Object(p.a)(Object(p.a)({},e),{},{result:t.question,showSearchResults:!0});case"SHOW_HOME_PAGE":return{showSearchResults:!1};case"SHOW_ADD_BUTTON":return Object(p.a)(Object(p.a)({},e),{},{showSearchResults:!1});default:return e}}});var f=n(2),v=n(3),E=n(5),O=n(4),g=n(7),j=n.n(g),y=n(10);function N(e){var t=[];for(var n in e){var a=encodeURIComponent(n),r=encodeURIComponent(e[n]);t.push(a+"="+r)}return t.join("&")}function A(){return function(){var e=Object(y.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://54.156.127.15/api/v1/questions",e.next=3,fetch("http://54.156.127.15/api/v1/questions",{mode:"cors"}).then((function(e){return console.log(e),e.json()})).then((function(e){t({type:"UPDATE_QUESTION",question:e.questions})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function q(e,t,n){return function(){var a=Object(y.a)(j.a.mark((function a(r){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://54.156.127.15/api/v1/insert",a.next=3,fetch("http://54.156.127.15/api/v1/insert",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:N({question:e,topic:t,tags:n})}).then((function(e){return console.log(e),e.json()})).then((function(e){}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function S(e){return console.log(e),function(){var t=Object(y.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://54.156.127.15/api/v1/search/tags",t.next=3,fetch("http://54.156.127.15/api/v1/search/tags",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:N({tags:e})}).then((function(e){return console.log("response",e),e.json()})).then((function(e){console.log("search data",e.question),n({type:"UPDATE_SEARCH_QUESTION",question:e.question})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function T(e){return{type:"SHOW_HOME_PAGE",isVisibleHomePage:e}}function H(e){return{type:"SHOW_ADD_BUTTON",isVisibleAddButton:e}}var w=function(e){Object(E.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleAddQuestion=function(t){t.preventDefault();var n=document.getElementById("question").value,a=document.getElementById("topic").value,r=document.getElementById("tags").value;0!==n.trim().length&&0!==a.trim().length&&0!==r.length&&e.props.dispatch(q(n,a,r))},e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"question-card",className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center"},"Add Question"),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"question",placeholder:"Enter Question",name:"question",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"topic",placeholder:"Enter topic",name:"topic",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"tags",placeholder:"Enter tags",name:"tags",required:!0})),r.a.createElement("button",{type:"Add",id:"button",className:"btn btn-primary deep-purple btn-block ",onClick:this.handleAddQuestion},"Submit"))))}}]),n}(a.Component),k=function(e){Object(E.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleSearchQuestion=function(t){var n=document.getElementById("search-box").value;0!==n.length&&e.props.dispatch(S(n))},e.handleHomeButton=function(t){e.props.dispatch(T(t)),e.props.dispatch(A())},e.handleAddQuestion=function(t){e.props.dispatch(H(t))},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isVisibleHomePage,a=t.isVisibleAddButton;return r.a.createElement("div",{className:"nav"},r.a.createElement("button",{id:"add-btn",className:"btn btn-light btn-outline-success btn-block ".concat(a?"active":""),onClick:function(){return e.handleAddQuestion(!0)}},"Add Question"),r.a.createElement("button",{id:"home-btn",className:"btn btn-light btn-outline-dark btn-block ".concat(n?"active":""),onClick:function(){return e.handleHomeButton(!0)}},"Home"),r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{id:"search-box",placeholder:"Search Question or Tags..."}),r.a.createElement("button",{id:"search-btn",onClick:this.handleSearchQuestion},"Search")))}}]),n}(a.Component),P=function(e){Object(E.a)(n,e);var t=Object(O.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.no;return r.a.createElement("div",{className:"q-card"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"left-topic"},"Topic"),r.a.createElement("div",{className:"left-question"},"Question:-",n+1),r.a.createElement("div",{className:"left-tags"},"Tags")),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"topic"},t.topic),r.a.createElement("div",{className:"question-description"},t.question),r.a.createElement("div",{className:"footer"},t.tags.map((function(e,t){return r.a.createElement("div",{className:"tags",key:"tag-".concat(t)}," ",e)})))))}}]),n}(a.Component),_=function(e){Object(E.a)(n,e);var t=Object(O.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(A())}},{key:"render",value:function(){var e=this,t=this.props.state.question,n=t.isVisibleHomePage,a=t.isVisibleAddButton,s=t.questions,c=this.props.state.search,o=c.result,i=c.showSearchResults,u=i?o:s;return r.a.createElement("div",null,r.a.createElement(k,{dispatch:this.props.dispatch,isVisibleHomePage:n,isVisibleAddButton:a}),a&&r.a.createElement(w,{dispatch:this.props.dispatch}),i?r.a.createElement("div",null,"Search Results..."):null,0===u.length?r.a.createElement("h3",null,"Question Not Found: Please Enter Valid Query or Tags"):null,!a&&u.map((function(t,n){return r.a.createElement(P,{question:t,key:"question-".concat(n),no:n,dispatch:e.props.dispatch})})))}}]),n}(a.Component);var B=Object(o.b)((function(e){return{state:e}}))(_),V=Object(i.d)(b,Object(i.a)(u.a,d.a));c.a.render(r.a.createElement(o.a,{store:V},r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null))),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a146fdca.chunk.js.map